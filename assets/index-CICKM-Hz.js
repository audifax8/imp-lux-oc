import{r as o,j as e,I as f,B as C,A as N,R as g,u as k,d as b,c as y}from"./index-GLH0x6mx.js";import"./vendor-CwAj_GBv.js";const I=o.memo(function(r){const{av:a,selectedAvId:i,onClickCallback:s}=r,c=`fc-swatch-wrapper--img ${a.id===i?"fc-swatch-wrapper--img--selected":"fc-swatch-wrapper--img--border"}`,n=o.useCallback((m,l)=>(l.preventDefault(),l.stopPropagation(),s?s(m,l):l),[s]);return e.jsx("button",{type:"button",className:"fc-swatch",onClick:m=>n(a,m),children:e.jsxs("div",{className:"fc-swatch-wrapper",children:[e.jsx("div",{className:c,children:e.jsx("img",{src:a.testUrl,alt:a.name})}),e.jsx("div",{className:"fc-swatch-wrapper--name",children:e.jsx("span",{children:a?.name})})]})})}),A=r=>{const{remainingItems:a,label:i,onClickCallback:s}=r,c=o.useCallback(n=>(n.preventDefault(),n.stopPropagation(),s?s(n):n),[s]);return e.jsx("button",{type:"button",className:"fc-view-more",onClick:c,children:e.jsxs("div",{className:"fc-view-more--wrapper",children:[e.jsx("div",{className:"fc-view-more--wrapper--amount",children:`+ ${a}`}),e.jsx("div",{className:"fc-view-more--wrapper--name",children:e.jsx("span",{children:i})})]})})};function S(r){const{alias:a,icon:i,avs:s,currentPage:c,avsLenght:n}=r.menu,[m,l]=o.useState(r.menu.selectedAvId),[h,x]=o.useState(r.menu.selectedAvName),[d,j]=o.useState(!1),v=t=>{console.log(t)},w=t=>{l(t.id),x(t.name)},u=t=>{t.preventDefault(),j(!d)};return e.jsxs("details",{open:d,className:"yr-accordion",onClick:u,children:[e.jsxs("summary",{className:"yr-accordion-summary",children:[e.jsx(f,{src:i,alt:a,className:"yr-accordion-summary-image"}),e.jsxs("div",{className:"yr-accordion-header",children:[e.jsx("h3",{className:"yr-accordion-header-title",children:a}),e.jsx("p",{className:"yr-accordion-header-selected",children:h})]}),e.jsx(C,{icon:e.jsx(N,{size:16,direction:d?"up":"down"}),tabIndex:-1,onClick:u})]}),e.jsx("div",{className:"yr-accordion-content",children:d&&e.jsxs("ul",{className:"fc-attribute-values","aria-label":"attribute values menu",children:[s&&s?.length&&s.map((t,p)=>e.jsx("li",{children:e.jsx(I,{av:t,caAlias:a,selectedAvId:m,index:p,onClickCallback:w})},t.id||p)),c<n&&e.jsx("li",{children:e.jsx(A,{remainingItems:n-c,label:"view more",onClickCallback:v})},s?.length)]})})]})}const D=g.memo(function({corePromise:a}){a.read();const[i]=k(),[s]=b();return s.length&&e.jsx("section",{className:y("yr-customizer",{"yr-customizer-open":i}),children:s.map(c=>e.jsx(S,{menu:c},c.id))})});export{D as default};
