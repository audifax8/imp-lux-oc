import{g as E,r as R}from"./vendor-CwAj_GBv.js";import{r as h,u as b,a as w,b as S,c as C,d as O,e as n,g as D,j as c,f as _,h as $,C as y,s as T,i as L,k as N,l as U}from"./index-oVC1nxbK.js";function v(t,o){for(var s=0;s<o.length;s++){const e=o[s];if(typeof e!="string"&&!Array.isArray(e)){for(const r in e)if(r!=="default"&&!(r in t)){const a=Object.getOwnPropertyDescriptor(e,r);a&&Object.defineProperty(t,r,a.get?a:{enumerable:!0,get:()=>e[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var j=R();const x=E(j),z=v({__proto__:null,default:x},[j]),F=new Promise(t=>{const o=n?.getParams();if(!o)return;const{workflow:s,customer:e,product:r,locale:a,yrEnv:i}=o,l=`${y}/static/configs/3.13.0/prod/${s}/${e}/product/${r}/graph-settings-${a}.json`,P=`${y}/static/configs/3.13.0/prod/${s}/${e}/preferences.json`;Promise.all([fetch(P),fetch(l)]).then(async([u,g])=>{const I=await(x||z);if(!u.ok||!g.ok)return o.yrEnv&&console.log("Error loading graph or settings JSONs"),t(!1);const k=await g.json(),A=await u.json();I({productGraph:k,preferences:A,shouldSkipCache:!1,product:r,customer:e,workflow:s},(m,p)=>{if(m)return o.yrEnv&&(console.log("Error"),console.log(m)),t(!1);n.initLuxApi(p);const f=n.luxAPI.getProductImg("LUX-Ray-Ban-8taOhSR5AFyjt9tfxU");fetch(f).then(()=>{const d=n.luxAPI.getToken();return T(!0),L(d,f),N(!1),U(p),t(f)}).catch(d=>{i&&console.log({e:d}),t(!1)})})}).catch(()=>t(!1))});function J(){const t=h.use(F),[,o]=b(),s=t||D(),[e]=w(),[r]=S(),a=$(),[i]=C(),[l]=O();return h.useEffect(()=>{i||e&&r&&n.rtrAPI?.init(r)},[i,e,r,l]),s&&c.jsxs("section",{className:"yr-model",children:[c.jsx("div",{id:"viewer",className:_("yr-model__rtr",{"yr-model__hidden":!e})}),c.jsx("picture",{className:_("yr-model__placeholder","yr-image",{"yr-model__hidden":e}),onClick:()=>o(),children:c.jsx("img",{fetchPriority:"high",src:s,alt:"Model",height:a.dimentions.height,width:a.dimentions.width})})]})}export{J as default};
