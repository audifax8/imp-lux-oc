import{g as A,r as R}from"./vendor-CwAj_GBv.js";import{r as h,u as b,a as w,b as S,c as O,d as C,e as c,S as D,j as l,f as _,g as T,C as y,s as $,h as v,i as L,k as N}from"./index-DkqrXeCx.js";function U(o,r){for(var s=0;s<r.length;s++){const e=r[s];if(typeof e!="string"&&!Array.isArray(e)){for(const t in e)if(t!=="default"&&!(t in o)){const n=Object.getOwnPropertyDescriptor(e,t);n&&Object.defineProperty(o,t,n.get?n:{enumerable:!0,get:()=>e[t]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}var j=R();const x=A(j),M=U({__proto__:null,default:x},[j]),z=new Promise(o=>{const r=c?.getParams();if(!r)return;const{workflow:s,customer:e,product:t,locale:n,yrEnv:a}=r,i=`${y}/static/configs/3.13.0/prod/${s}/${e}/product/${t}/graph-settings-${n}.json`,I=`${y}/static/configs/3.13.0/prod/${s}/${e}/preferences.json`;Promise.all([fetch(I),fetch(i)]).then(async([g,u])=>{const E=await(x||M);(!g.ok||!u.ok)&&r.yrEnv&&console.log("Error loading graph or settings JSONs");const P=await u.json(),k=await g.json();E({productGraph:P,preferences:k,shouldSkipCache:!1,product:t,customer:e,workflow:s},(m,p)=>{m&&r.yrEnv&&(console.log("Error"),console.log(m)),c.initLuxApi(p);const d=c.luxAPI.getProductImg("LUX-Ray-Ban-8taOhSR5AFyjt9tfxU");fetch(d).then(()=>{const f=c.luxAPI.getToken();return $(!0),v(f,d),L(!1),N(p),o(d)}).catch(f=>{a&&console.log({e:f})})})}).catch(()=>o(!1))});function G(){const o=h.use(z),[,r]=b(),s=o||D,[e]=w(),[t]=S(),n=T(),[a]=O(),[i]=C();return console.log({rtrDisabled:a,rtrError:i}),h.useEffect(()=>{a||e&&t&&(console.log("here"),c.rtrAPI?.init(t))},[a,e,t,i]),s&&l.jsxs("section",{className:"yr-model",children:[l.jsx("div",{id:"viewer",className:_("yr-model__rtr",{"yr-model__hidden":!e})}),l.jsx("picture",{className:_("yr-model__placeholder","yr-image",{"yr-model__hidden":e}),onClick:()=>r(),children:l.jsx("img",{src:s,alt:"Model",height:n.dimentions.height,width:n.dimentions.width})})]})}export{G as default};
