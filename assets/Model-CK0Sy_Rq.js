import{g as E,r as S}from"./vendor-CwAj_GBv.js";import{r as p,u as O,a as $,b as D,c as n,j as l,d as g,C as _,F as R,e as v,s as C,f as N,g as F,h as L}from"./index-D38DPJyF.js";function T(o,t){for(var r=0;r<t.length;r++){const e=t[r];if(typeof e!="string"&&!Array.isArray(e)){for(const s in e)if(s!=="default"&&!(s in o)){const a=Object.getOwnPropertyDescriptor(e,s);a&&Object.defineProperty(o,s,a.get?a:{enumerable:!0,get:()=>e[s]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}var h=S();const y=E(h),U=T({__proto__:null,default:y},[h]),M=new Promise((o,t)=>{const r=n?.getParams();if(!r)return;const{workflow:e,customer:s,product:a,locale:P,yrEnv:x}=r,j=`${_}/static/configs/3.13.0/prod/${e}/${s}/product/${a}/graph-settings-${P}.json`,A=`${_}/static/configs/3.13.0/prod/${e}/${s}/preferences.json`;Promise.all([fetch(A),fetch(j)]).then(async([c,f])=>{const I=await(y||U);if(!c.ok||!f.ok)return t(new Error("Error loading graph or settings JSONs"));const b=await f.json(),k=await c.json();I({productGraph:b,preferences:k,shouldSkipCache:!1,product:a,customer:s,workflow:e},(u,m)=>{if(u)return t(u);n.initLuxApi(m);const i=n.luxAPI.getProductImg("LUX-Ray-Ban-8taOhSR5AFyjt9tfxU"),w={as:"image",crossOrigin:"anonymous",fetchPriority:R.HIGH};v.preload(i,w),fetch(i).then(()=>{const d=n.luxAPI.getToken();return C(!0),N(d,i),F(!1),L(m),o(i)}).catch(d=>{x&&console.log({e:d})})})}).catch(c=>t(c))});function H(){const o=p.use(M),[t]=O(),[r]=$(),[e]=D();return p.useEffect(()=>{r.rtrDisabled||t&&e&&n.rtrAPI?.init(e)},[r.rtrDisabled,t,e]),o&&l.jsxs("section",{className:"yr-model",children:[l.jsx("div",{id:"viewer",className:g("yr-model__rtr",{"yr-model__hidden":!t})}),l.jsx("picture",{className:g("yr-model__placeholder","yr-image",{"yr-model__hidden":t}),children:l.jsx("img",{src:o,alt:"Model"})})]})}export{H as default};
