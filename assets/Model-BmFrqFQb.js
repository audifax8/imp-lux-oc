import{g as k,r as b}from"./vendor-CwAj_GBv.js";import{r as p,u as w,a as S,b as O,c as C,d as n,S as D,j as c,e as h,g as R,C as _,s as $,f as L,h as N,i as T}from"./index-DMhVFTjO.js";function U(t,o){for(var r=0;r<o.length;r++){const e=o[r];if(typeof e!="string"&&!Array.isArray(e)){for(const s in e)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(e,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>e[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var y=b();const j=k(y),v=U({__proto__:null,default:j},[y]),M=new Promise(t=>{const o=n?.getParams();if(!o)return;const{workflow:r,customer:e,product:s,locale:a,yrEnv:i}=o,x=`${_}/static/configs/3.13.0/prod/${r}/${e}/product/${s}/graph-settings-${a}.json`,I=`${_}/static/configs/3.13.0/prod/${r}/${e}/preferences.json`;Promise.all([fetch(I),fetch(x)]).then(async([d,u])=>{const P=await(j||v);if(!d.ok||!u.ok)return o.yrEnv&&console.log("Error loading graph or settings JSONs"),t(!1);const A=await u.json(),E=await d.json();P({productGraph:A,preferences:E,shouldSkipCache:!1,product:s,customer:e,workflow:r},(m,g)=>{if(m)return o.yrEnv&&(console.log("Error"),console.log(m)),t(!1);n.initLuxApi(g);const l=n.luxAPI.getProductImg("LUX-Ray-Ban-8taOhSR5AFyjt9tfxU");fetch(l).then(()=>{const f=n.luxAPI.getToken();return $(!0),L(f,l),N(!1),T(g),t(l)}).catch(f=>{i&&console.log({e:f}),t(!1)})})}).catch(()=>t(!1))});function B(){const t=p.use(M),[,o]=w(),r=t||D,[e]=S(),[s]=O(),[a]=C(),i=R();return p.useEffect(()=>{s.rtrDisabled||e&&a&&n.rtrAPI?.init(a)},[s.rtrDisabled,e,a]),r&&c.jsxs("section",{className:"yr-model",children:[c.jsx("div",{id:"viewer",className:h("yr-model__rtr",{"yr-model__hidden":!e})}),c.jsx("picture",{className:h("yr-model__placeholder","yr-image",{"yr-model__hidden":e}),onClick:()=>o(),children:c.jsx("img",{src:r,alt:"Model",height:i.dimentions.height,width:i.dimentions.width})})]})}export{B as default};
