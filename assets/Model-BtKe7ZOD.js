const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./fonts-Cl_tFVKq.css"])))=>i.map(i=>d[i]);
import{r as _,_ as A,u as R,a as b,b as w,c as O,d as S,e as n,g as C,j as c,f as h,h as D,C as y,s as T,i as $,k as L,l as v}from"./index-DwtKOYUR.js";import{g as N,r as U}from"./vendor-CwAj_GBv.js";function z(t,o){for(var s=0;s<o.length;s++){const e=o[s];if(typeof e!="string"&&!Array.isArray(e)){for(const r in e)if(r!=="default"&&!(r in t)){const a=Object.getOwnPropertyDescriptor(e,r);a&&Object.defineProperty(t,r,a.get?a:{enumerable:!0,get:()=>e[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var P=U();const j=N(P),F=z({__proto__:null,default:j},[P]),M=new Promise(t=>{const o=n?.getParams();if(!o)return;const{workflow:s,customer:e,product:r,locale:a,yrEnv:i}=o,l=`${y}/static/configs/3.13.0/prod/${s}/${e}/product/${r}/graph-settings-${a}.json`,x=`${y}/static/configs/3.13.0/prod/${s}/${e}/preferences.json`;Promise.all([fetch(x),fetch(l)]).then(async([u,g])=>{const I=await(j||F);if(!u.ok||!g.ok)return o.yrEnv&&console.log("Error loading graph or settings JSONs"),t(!1);const E=await g.json(),k=await u.json();I({productGraph:E,preferences:k,shouldSkipCache:!1,product:r,customer:e,workflow:s},(m,p)=>{if(m)return o.yrEnv&&(console.log("Error"),console.log(m)),t(!1);n.initLuxApi(p);const f=n.luxAPI.getProductImg("LUX-Ray-Ban-8taOhSR5AFyjt9tfxU");fetch(f).then(()=>{const d=n.luxAPI.getToken();return T(!0),$(d,f),L(!1),v(p),t(f)}).catch(d=>{i&&console.log({e:d}),t(!1)})})}).catch(()=>t(!1))});function q(){const t=_.use(M);t&&A(()=>Promise.resolve({}),__vite__mapDeps([0]),import.meta.url);const[,o]=R(),s=t||C(),[e]=b(),[r]=w(),a=D(),[i]=O(),[l]=S();return _.useEffect(()=>{i||e&&r&&n.rtrAPI?.init(r)},[i,e,r,l]),s&&c.jsxs("section",{className:"yr-model",children:[c.jsx("div",{id:"viewer",className:h("yr-model__rtr",{"yr-model__hidden":!e})}),c.jsx("picture",{className:h("yr-model__placeholder","yr-image",{"yr-model__hidden":e}),onClick:()=>o(),children:c.jsx("img",{fetchPriority:"high",src:s,alt:"Model",height:a.dimentions.height,width:a.dimentions.width})})]})}export{q as default};
