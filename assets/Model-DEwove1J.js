import{g as k,r as w}from"./vendor-CwAj_GBv.js";import{r as g,u as E,a as S,b as $,c as n,j as i,d as p,C as _,s as O,e as R,f as v,g as D}from"./index-Ti4zmikx.js";function N(s,t){for(var r=0;r<t.length;r++){const e=t[r];if(typeof e!="string"&&!Array.isArray(e)){for(const o in e)if(o!=="default"&&!(o in s)){const a=Object.getOwnPropertyDescriptor(e,o);a&&Object.defineProperty(s,o,a.get?a:{enumerable:!0,get:()=>e[o]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}var y=w();const h=k(y),C=N({__proto__:null,default:h},[y]),L=new Promise((s,t)=>{const{workflow:r,customer:e,product:o,locale:a,yrEnv:x}=n.getParams(),P=`${_}/static/configs/3.13.0/prod/${r}/${e}/product/${o}/graph-settings-${a}.json`,j=`${_}/static/configs/3.13.0/prod/${r}/${e}/preferences.json`;Promise.all([fetch(j),fetch(P)]).then(async([c,f])=>{const A=await(h||C);if(!c.ok||!f.ok)return t(new Error("Error loading graph or settings JSONs"));const I=await f.json(),b=await c.json();A({productGraph:I,preferences:b,shouldSkipCache:!1,product:o,customer:e,workflow:r},(u,m)=>{if(u)return t(u);n.initLuxApi(m);const l=n.luxAPI.getProductImg("LUX-Ray-Ban-8taOhSR5AFyjt9tfxU");fetch(l).then(()=>{const d=n.luxAPI.getToken();return O(!0),R(d,l),v(!1),D(m),s(l)}).catch(d=>{x&&console.log({e:d})})})}).catch(c=>t(c))});function F(){const s=g.use(L),[t]=E(),[r]=S(),[e]=$();return g.useEffect(()=>{r.rtrDisabled||t&&e&&n.rtrAPI?.init(e)},[r.rtrDisabled,t,e]),s&&i.jsxs("section",{className:"yr-model",children:[i.jsx("div",{id:"viewer",className:p("yr-model__rtr",{"yr-model__hidden":!t})}),i.jsx("picture",{className:p("yr-model__placeholder","yr-image",{"yr-model__hidden":t}),children:i.jsx("img",{src:s,alt:"Model"})})]})}export{F as default};
