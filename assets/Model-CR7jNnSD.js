import{g as A,r as R}from"./vendor-CwAj_GBv.js";import{r as h,u as b,a as w,b as S,c as O,d as C,e as c,S as D,j as l,f as _,g as T,C as y,s as $,h as L,i as N,k as U}from"./index-DSrhVqjD.js";function v(t,o){for(var r=0;r<o.length;r++){const e=o[r];if(typeof e!="string"&&!Array.isArray(e)){for(const s in e)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(e,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>e[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var j=R();const x=A(j),M=v({__proto__:null,default:x},[j]),z=new Promise(t=>{const o=c?.getParams();if(!o)return;const{workflow:r,customer:e,product:s,locale:a,yrEnv:n}=o,i=`${y}/static/configs/3.13.0/prod/${r}/${e}/product/${s}/graph-settings-${a}.json`,I=`${y}/static/configs/3.13.0/prod/${r}/${e}/preferences.json`;Promise.all([fetch(I),fetch(i)]).then(async([u,g])=>{const E=await(x||M);if(!u.ok||!g.ok)return o.yrEnv&&console.log("Error loading graph or settings JSONs"),t(!1);const P=await g.json(),k=await u.json();E({productGraph:P,preferences:k,shouldSkipCache:!1,product:s,customer:e,workflow:r},(m,p)=>{if(m)return o.yrEnv&&(console.log("Error"),console.log(m)),t(!1);c.initLuxApi(p);const f=c.luxAPI.getProductImg("LUX-Ray-Ban-8taOhSR5AFyjt9tfxU");fetch(f).then(()=>{const d=c.luxAPI.getToken();return $(!0),L(d,f),N(!1),U(p),t(f)}).catch(d=>{n&&console.log({e:d}),t(!1)})})}).catch(()=>t(!1))});function G(){const t=h.use(z),[,o]=b(),r=t||D,[e]=w(),[s]=S(),a=T(),[n]=O(),[i]=C();return console.log({rtrDisabled:n,rtrError:i}),h.useEffect(()=>{n||e&&s&&(console.log("here"),c.rtrAPI?.init(s))},[n,e,s,i]),r&&l.jsxs("section",{className:"yr-model",children:[l.jsx("div",{id:"viewer",className:_("yr-model__rtr",{"yr-model__hidden":!e})}),l.jsx("picture",{className:_("yr-model__placeholder","yr-image",{"yr-model__hidden":e}),onClick:()=>o(),children:l.jsx("img",{src:r,alt:"Model",height:a.dimentions.height,width:a.dimentions.width})})]})}export{G as default};
