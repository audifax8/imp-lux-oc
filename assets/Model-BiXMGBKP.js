import{g as b,r as k}from"./vendor-CwAj_GBv.js";import{r as m,u as w,a as S,b as D,c as n,S as O,j as i,d as p,g as R,C as h,s as $,e as L,f as N,h as C}from"./index-BOirTlat.js";function T(e,o){for(var t=0;t<o.length;t++){const r=o[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var _=k();const y=b(_),U=T({__proto__:null,default:y},[_]),v=new Promise(e=>{const o=n?.getParams();if(!o)return;const{workflow:t,customer:r,product:s,locale:a,yrEnv:j}=o,x=`${h}/static/configs/3.13.0/prod/${t}/${r}/product/${s}/graph-settings-${a}.json`,P=`${h}/static/configs/3.13.0/prod/${t}/${r}/preferences.json`;Promise.all([fetch(P),fetch(x)]).then(async([f,d])=>{const I=await(y||U);if(!f.ok||!d.ok)return o.yrEnv&&console.log("Error loading graph or settings JSONs"),e(!1);const A=await d.json(),E=await f.json();I({productGraph:A,preferences:E,shouldSkipCache:!1,product:s,customer:r,workflow:t},(g,u)=>{if(g)return o.yrEnv&&(console.log("Error"),console.log(g)),e(!1);n.initLuxApi(u);const c=n.luxAPI.getProductImg("LUX-Ray-Ban-8taOhSR5AFyjt9tfxU");fetch(c).then(()=>{const l=n.luxAPI.getToken();return $(!0),L(l,c),N(!1),C(u),e(c)}).catch(l=>{j&&console.log({e:l}),e(!1)})})}).catch(()=>e(!1))});function B(){const e=m.use(v),o=e||O,[t]=w(),[r]=S(),[s]=D(),a=R();return m.useEffect(()=>{r.rtrDisabled||t&&s&&n.rtrAPI?.init(s)},[r.rtrDisabled,t,s]),o&&i.jsxs("section",{className:"yr-model",children:[i.jsx("div",{id:"viewer",className:p("yr-model__rtr",{"yr-model__hidden":!t})}),i.jsx("picture",{className:p("yr-model__placeholder","yr-image",{"yr-model__hidden":t}),children:i.jsx("img",{src:o,alt:"Model",height:a.dimentions.height,width:a.dimentions.width})})]})}export{B as default};
